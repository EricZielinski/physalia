[tox]
envlist = py27
[testenv]
passenv = TRAVIS TRAVIS_JOB_ID TRAVIS_BRANCH
deps =
    -rrequirements.txt
    -rrequirements-dev.txt
commands=
    {[testenv:flake8]commands}
    {[testenv:pydocstyle]commands}
    {[testenv:pylint]commands}
    {[testenv:coverage]commands}
    
[testenv:flake8]
skip_install = true
commands=
    flake8 physalia setup.py

[testenv:pylint]
commands =
    py.test --pylint --pylint-rcfile={toxinidir}/.pylintrc -m pylint

[testenv:pydocstyle]
skip_install = true
commands =
    pydocstyle physalia

[testenv:unittest]
commands =
    python -m unittest discover

[testenv:coverage]
commands =
    py.test --cov-config .coveragerc --cov=physalia physalia
